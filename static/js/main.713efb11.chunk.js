(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"App_container__16xz_",headTitle:"App_headTitle__1eNzW",title:"App_title__1YcTA",largeImgUrl:"App_largeImgUrl__1v5vF"}},15:function(e,t,n){e.exports={img:"ImageGalleryItem_img__2bF1s"}},25:function(e,t,n){e.exports={button:"IconButton_button__29vBa"}},26:function(e,t,n){e.exports={list:"ImageGallery_list__3mqUc"}},27:function(e,t,n){e.exports={button:"Button_button__3QF_k"}},28:function(e,t,n){e.exports={ldsSpinner:"Loader_ldsSpinner__2uzs8"}},34:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),o=n.n(c),i=(n(33),n(34),n(16)),l=n(3),s=n(4),u=n(6),d=n(5),b=n(13),h=n.n(b),p=n(14),j=n.n(p),f="?key=20668572-c55967f2cfb5248074fb94654";j.a.defaults.baseURL="https://pixabay.com/api/";var g={fetchImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r="".concat(f,"&image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat(n);return j.a.get(r).then((function(e){return e.data.hits}))}},m=n(8),O=n.n(m),v=n(7),y=n(11),x=n(25),_=n.n(x),w=n(0),k=function(e){var t=e.children,n=e.type,r=e.handleClick,a=Object(y.a)(e,["children","type","handleClick"]);return Object(w.jsx)("button",Object(v.a)(Object(v.a)({type:n,className:_.a.button,onClick:r},a),{},{children:t}))};k.defaultProps={handleClick:function(){return null},children:[],type:"button"};var I,C=k;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){var n=e.title,a=e.titleId,c=U(e,["title","titleId"]);return r.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":a},c),void 0===n?r.createElement("title",{id:a},"search"):n?r.createElement("title",{id:a},n):null,I||(I=r.createElement("path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"})))}var E=r.forwardRef(L),N=(n.p,function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:""},e.hadleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.findImages(e.state.query.trim()),e.setState({query:""})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(w.jsx)("header",{className:O.a.searchBar,children:Object(w.jsxs)("form",{onSubmit:this.handleSubmit,className:O.a.form,children:[Object(w.jsx)(C,{type:"submit",className:O.a.button,children:Object(w.jsx)(E,{className:O.a.icon})}),Object(w.jsx)("label",{children:Object(w.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.query,onChange:this.hadleChange,className:O.a.input})})]})})}}]),n}(r.Component)),M=n(15),P=n.n(M),B=function(e){var t=e.webformatURL,n=e.tags,r=e.largeImageURL,a=e.imgClick;return Object(w.jsx)("li",{className:P.a.item,children:Object(w.jsx)("img",{src:t,alt:n,className:P.a.img,onClick:function(){return a(r)}})})},q=n(26),R=n.n(q),z=function(e){var t=e.pictures,n=e.imgClick;return Object(w.jsx)("ul",{className:R.a.list,children:t.map((function(e){var t=e.id,r=e.webformatURL,a=e.largeImageURL,c=e.tags;return Object(w.jsx)(B,{webformatURL:r,largeImageURL:a,tags:c,imgClick:n},t)}))})},A=n(27),T=n.n(A),Q=function(e){var t=e.btnLabel,n=e.handleClick,r=Object(y.a)(e,["btnLabel","handleClick"]);return Object(w.jsx)("button",Object(v.a)(Object(v.a)({type:"button",className:T.a.button,onClick:n},r),{},{children:t}))};Q.defaultProps={btnLabel:"Click me",handleClick:function(){return null}};var D,F=Q,J=n(28),G=n.n(J),W=function(){return Object(w.jsxs)("div",{className:G.a.ldsSpinner,children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})},Z=n(9),H=n.n(Z);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X(e,t){var n=e.title,a=e.titleId,c=V(e,["title","titleId"]);return r.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":a},c),void 0===n?r.createElement("title",{id:a},"cross"):n?r.createElement("title",{id:a},n):null,D||(D=r.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var Y=r.forwardRef(X),$=(n.p,document.querySelector("#modal-root")),ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleEscape=function(t){"Escape"===t.code&&e.props.onClose()},e.closeOnBackdrop=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(e,t){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){return Object(c.createPortal)(Object(w.jsxs)("div",{className:H.a.backdrop,onClick:this.closeOnBackdrop,children:[Object(w.jsx)("div",{className:H.a.content,children:this.props.children}),Object(w.jsx)(C,{className:H.a.button,onClick:this.props.onClose,children:Object(w.jsx)(Y,{className:H.a.icon})})]}),$)}}]),n}(r.Component),te=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={pictures:[],currentPage:1,searchQuery:"",error:null,isLoading:!1,largeImgUrl:"",showModal:!1},e.findImages=function(){var t=e.state,n=t.searchQuery,r=t.currentPage;e.setState({isLoading:!0}),g.fetchImg(n,r).then((function(t){e.setState((function(e){return{pictures:[].concat(Object(i.a)(e.pictures),Object(i.a)(t)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.queryUpdate=function(t){e.setState({searchQuery:t,currentPage:1,pictures:[],error:null})},e.getlargeImgUrl=function(t){e.setState({largeImgUrl:t}),e.toggleModal()},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.findImages(),setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),700)}},{key:"render",value:function(){var e=this.state,t=e.pictures,n=e.error,r=e.isLoading,a=e.showModal,c=e.largeImgUrl;return Object(w.jsxs)("div",{className:h.a.container,children:[Object(w.jsx)(N,{findImages:this.queryUpdate}),n&&Object(w.jsx)("h2",{children:"Something wrong happened \ud83d\ude14 Please try another search"}),Object(w.jsx)(z,{pictures:t,imgClick:this.getlargeImgUrl}),r&&Object(w.jsx)(W,{}),t.length>0&&!r&&Object(w.jsx)(F,{btnLabel:"Load more",handleClick:this.findImages,"aria-label":"Load more"}),a&&Object(w.jsx)(ee,{onClose:this.toggleModal,children:Object(w.jsx)("img",{src:c,alt:"",className:h.a.largeImgUrl})})]})}}]),n}(r.Component);o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(te,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={searchBar:"Searchbar_searchBar__3w0z0",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU",input:"Searchbar_input__2C4aO",icon:"Searchbar_icon__g9rb2"}},9:function(e,t,n){e.exports={backdrop:"Madal_backdrop__Dg2fr",content:"Madal_content__7RIZV",button:"Madal_button__1Z4JI",icon:"Madal_icon__76CbE"}}},[[54,1,2]]]);
//# sourceMappingURL=main.713efb11.chunk.js.map